<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!--
    ABOUT THIS PAGE:
       This page uses data resulting from a JPA 'Entity query' which
       returns a List of entities. See index.xhtml for an example that
       returns a 'projection query'.
-->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:cc="http://java.sun.com/jsf/composite"
      xmlns:sec="http://www.springframework.org/security/facelets/tags"
      xmlns:p="http://primefaces.org/ui"      
      >
    <h:head>
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
        <meta name="Keywords" content="JSF WCTC JAVA"/>
        <meta name="Description" content="A basic JSF v2 home page without a template"/>
        <meta name="Robots" content="index,follow"/>

        <title>Home</title>

        <h:outputStylesheet name="default.css" library="css" />
        <h:outputStylesheet name="cssLayout.css" library="css" />
        <link rel="SHORTCUT ICON" href="/purpleproject/favicon.ico"/>
    </h:head>
    <h:body>
        <h:form id="form1">
            <h:dataTable id="empTable" rows="10" value="#{employeeSrv.departmentList}"
                         var="dept" rowClasses="list-row-odd, list-row-even" width="60%">
                <f:facet name="header">
                    Department List From JPA Entity Query With<br/>
                    Joined Employee entity LAZY loaded by default<br/>
                    (will cause exception -- change field in Department to EAGER)
                </f:facet>
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="ID" />
                    </f:facet>
                    <h:outputText value="#{dept.deptId}" />
                </h:column>
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Last Name" />
                    </f:facet>
                    <h:outputText value="#{dept.deptName}" />
                </h:column>
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="An Employee" />
                    </f:facet>
                    <h:outputText value="#{dept.employeeCollection[0].lastname}" />
                </h:column>

            </h:dataTable>
            <h:commandButton id="cmdPrevPage" value="Previous Page" action="index2"/>
        </h:form>
    </h:body>

</html>

